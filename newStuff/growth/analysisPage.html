<!DOCTYPE html>
<html lang="en">

<head>
    <!--styles-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="MDB-Free_4.19.2/css/bootstrap.min.css">
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" href="MDB-Free_4.19.2/css/mdb.min.css">






    <!-- jQuery -->
    <script type="text/javascript" src="MDB-Free_4.19.2/js/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="MDB-Free_4.19.2/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="MDB-Free_4.19.2/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="MDB-Free_4.19.2/js/mdb.min.js"></script>

    <script src="interactive.js"></script>

    <script src="https://d3js.org/d3.v4.min.js"></script>









    <!--javascript-->

    <!--<script data-main="config" src="require.js">
    </script>

    <script>
        require(['config'], function() {
            //require(['jqueryFile']);
            require(['api']);
            alert('yo');
        });
    </script>-->

</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col" style="padding: 50px; ">span 4</div>
            <div class="col" style="padding: 50px; ">span 4</div>
            <div class="col" style="padding: 50px; ">span 4</div>
        </div>

        <div class="row">
            <div class="col animated fadeIn" style="padding: 30px; ">
                <p>Analysis Page</p>
            </div>
        </div>

        <div class="row">
            <div class="col animated fadeIn slower" style="padding: 160px; background-color: teal;">
                <p>The Analysis tab gives analyst estimates on earnings, revenue, EPS, and Growth.
                    This section is helpful to look at concensus estimates for important forward-looking
                    metrics which you can refer to in your own analysis.
                </p>
            </div>
        </div>





        <div class="container wow fadeIn" data-wow-delay="0.6s">
            <div class="col animated fadeIn" style="padding: 50px;"><img id="headImage" src="images/price.png"
                    alt="Login Icon">

                <div class="row">
                    <div id="currentPriceHeading" class="col" style="padding: 50px; ">
                        <div class="row">
                            <div id="volumeHeading" class="col"><button class="animated fadeIn">
                                    <p>Earnings Estimate</p>
                                </button></div>
                            <div id="volumeValue" class="col"><button class="animated fadeIn">
                                    <p>Revenue Estimate</p>
                                </button></div>
                            <div class="col"><button class="animated fadeIn">
                                    <p>EPS Trend</p>
                                </button></div>
                            <div class="col"><button class="animated fadeIn">
                                    <p>Growth Estimates</p>
                                </button></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>




        <div class="row">
            <div class="col wow fadeIn" data-wow-delay="0.6s" style="padding: 160px; background-color: teal;"></div>

            <p>
            <ul>The Analysis section will help you in your stock research by:
                <li>Providing concensus estimates on earnings, revenue, EPS, and growth.</li>
                <li>Providing high, medium, and low estimates.</li>
                <li>Showing a range of time frames for trend and growth estimates.</li>
            </ul>
            </p>
        </div>
    </div>



    <div class="row">
        <div class="col wow fadeIn" data-wow-delay="0.6s"
            style="padding-top: 160px; padding-right: 160px; padding-left: 160px; ">
            <p>Looking at sales growth estimates, we see that estimates for the current year and next year are
                35.40% and 18.30%.
                The S&P index has returned a historic annualized average return of around 10% since its
                inception
                through 2019.
                Thus, both growth rates are projected to be far above the index average, something to keep in
                mind
                when assessing
                potential future peformance of a stock.
            </p>
        </div>
    </div>


    <div id="container" class="svg-container wow fadeIn" data-wow-delay="0.6s">
        <script>
            //------------------------1. PREPARATION-------------------------//
            //-----------------------------SVG-------------------------------//
            const width = 500;
            const height = 500;
            const margin = 5;

            const adj = 30;
            var paddingLeft = 50, paddingRight = 40, paddingTop = 10, paddingBottom = 10;
            // we are appending SVG first
            const svg = d3.select("div#container").append("svg")
                .attr("preserveAspectRatio", "xMinYMin meet")
                .attr("viewBox", "-"
                    + adj + " -"
                    + adj + " "
                    + (width + adj * 3) + " "
                    + (height + adj * 3))

                .classed("svg-content", true);

            //-----------------------------DATA------------------------------//





            var nameObj = {
                "Year": [2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019],
                "Rev": [8490, 10711, 14835, 19166, 24509, 34204, 48077, 61093, 74452, 88988, 107006, 135987, 177866, 232887, 280522],
                "Salary": [81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840, 81840]
            };

            const dataset = nameObj;

            const years = [2020, 2021];
            const amzngrowth = [35.40, 18.30];
            const spgrowth = [10, 10];
            const subgroups = ['Amazon Growth', 'S&P Growth']

            finalArray = {
                x: [2020, 2021],
                y: [35.40, 18.30]
            };

            finalArray2 = {
                x: [2020, 2021],
                y: [10, 10]
            };


            var rearrangedData = finalArray.x.map(function (d, i) {
                return { x: d, y: finalArray.y[i] };

            })

            var rearrangedData2 = finalArray2.x.map(function (d, i) {
                return { x: d, y: finalArray2.y[i] };

            })

            var barPadding = 5;
            var barWidth = (width / dataset.length);





            var xscale = d3.scaleBand()
                .range([0, width])
                .domain(years)
                .padding(0.2);
            svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(d3.axisBottom(x).tickSize(0));


            var yscale = d3.scaleLinear()
                .domain([0, 100])
                .range([height, 0]);
            svg.append("g")
                .call(d3.axisLeft(yscale));

            var xSubgroup = d3.scaleBand()
                .domain(subgroups)
                .range([0, x.bandwidth()])
                .padding([0.05])

            var color = d3.scaleOrdinal()
                .domain(subgroups)
                .range(['#e41a1c', '#377eb8', '#4daf4a'])



            svg.append("g")
                .selectAll("g")
                // Enter in data = loop group per group
                .data(data)
                .enter()
                .append("g")
                .attr("transform", function (d) { return "translate(" + x(d.group) + ",0)"; })
                .selectAll("rect")
                .data(function (d) { return subgroups.map(function (key) { return { key: key, value: d[key] }; }); })
                .enter().append("rect")
                .attr("x", function (d) { return xSubgroup(d.key); })
                .attr("y", function (d) { return y(d.value); })
                .attr("width", xSubgroup.bandwidth())
                .attr("height", function (d) { return height - y(d.value); })
                .attr("fill", function (d) { return color(d.key); });



        </script>
    </div>
    </div>

    </div>
</body>

</html>